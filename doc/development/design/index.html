<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Design</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../local.css" type="text/css" />




<link rel="alternate" type="application/x-wiki" title="Edit this page" href="https://github.com/orbital-transfer/orbital-transfer.github.io/edit/source/doc/development/design/index.mdwn" />







</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../../">Orbital Transfer</a>/ 

<a href="../../">doc</a>/ 

<a href="../">development</a>/ 

</span>
<span class="title">
Design

</span>
</span>



</div>


<div class="actions">
<ul>

<li><a href="https://github.com/orbital-transfer/orbital-transfer.github.io/edit/source/doc/development/design/index.mdwn" rel="nofollow">Edit</a></li>


<li><a href="../../../recentchanges/">RecentChanges</a></li>


<li><a rel="nofollow" href="https://github.com/orbital-transfer/orbital-transfer.github.io/commits/source/doc/development/design/index.mdwn">History</a></li>







</ul>
</div>








</div>



<div class="sidebar">
<ul>
    <li><a href="../../">Documentation</a></li>
    <ul>
        <li><a href="../">Development</a></li>
    </ul>
</ul>

</div>



<div id="pagebody">

<div id="content" role="main">
<h1 id="bootstrapping">Bootstrapping</h1>

<ul>
<li>Current
<ul>
<li>Setup for CI
<ul>
<li>e.g., <a href="https://github.com/orbital-transfer/p5-Orbital-Launch/blob/master/lib/Orbital/Launch/CIGen/GitHubActions.pm">for GitHub Actions</a></li>
<li>Download and eval <a href="https://github.com/orbital-transfer/launch-site/blob/master/script/ci/github-actions-orbital.sh">shell script</a>
<ul>
<li>Sets several environment variables. TODO Need to check if these variables
are script specific or used within the bootstrapping process.</li>
</ul></li>
</ul></li>
<li>Setup for Docker
<ul>
<li><a href="https://github.com/orbital-transfer/launch-site/blob/master/Dockerfile">Dockerfile</a></li>
<li>Packages needed to fetch repos (VCS): <a href="https://github.com/orbital-transfer/launch-site/blob/master/maint/docker-debian-packages">https://github.com/orbital-transfer/launch-site/blob/master/maint/docker-debian-packages</a></li>
</ul></li>
<li>Bootstrap
<ul>
<li><a href="https://github.com/orbital-transfer/p5-Orbital-Launch/blob/master/lib/Orbital/Launch/Command/Bootstrap.pm">https://github.com/orbital-transfer/p5-Orbital-Launch/blob/master/lib/Orbital/Launch/Command/Bootstrap.pm</a></li>
</ul></li>
<li>config:
<ul>
<li>Install directory
<ul>
<li>global install: no directory specified (so installs to <code>perl -V:sitelib</code>)</li>
<li>CI install: in <code>~/.orbital</code>.
<ul>
<li>Only when $ENV{CI} is true</li>
</ul></li>
<li>default: relative to launch-site repo</li>
</ul></li>
</ul></li>
<li>steps:
<ol>
<li>Install <code>cpm</code> (from vendor submodules) if not available</li>
<li>Install <code>cpanm</code> using <code>cpm</code>.</li>
<li>Install <code>App::scan_prereqs_cpanfile</code> using <code>cpanm</code>.</li>
<li>Generate a <code>cpanfile</code> for every orbital-transfer submodule.</li>
<li>Install dependencies from <code>cpanfile</code> for every orbital-transfer
submodule using <code>cpm</code> then <code>cpanm</code>.</li>
</ol></li>
</ul></li>
<li>Future
<ul>
<li>config:
<ul>
<li>Install to directory, upload to GitHub
<ul>
<li>upload to GitHub for cacheing</li>
</ul></li>
<li>Install to directory at bootstrap time
<ul>
<li>determine the directory to install to using a class</li>
</ul></li>
</ul></li>
<li>steps: same as before
<ul>
<li>Perhaps need to generate cpanfile in each repo, only install and run
<code>App::scan_prereqs_cpanfile</code> if <code>cpanfile</code> missing.</li>
</ul></li>
<li>decreasing deps:
<ul>
<li>Need to outline a set of modules that are pure-Perl or can be translated
to pure-Perl equivalents.</li>
<li>Some of these can be installed as the base dependencies of all the
Orbital::Payload::* modules.</li>
<li>Others need to be set up to be installed based on context:
<ul>
<li>e.g., if loading on GitHub actions, then load everything needed there</li>
</ul></li>
<li>Create a way of specifying features that require different sets of
modules in a distribution.</li>
<li>Use a loader function to look up the features needed by a module and
install if necessary.</li>
<li>Need to have a context for installation and loading which holds the
directories for bootstrapping.</li>
</ul></li>
</ul></li>
</ul>

<h1 id="workflow">Workflow</h1>

<h2 id="current">Current</h2>

<h3 id="diagram">Diagram</h3>

<p><img src="./gfx/current-workflow/uml-10517b101c5673a4aeec504cf4f5b20faea8247c.svg" /></p>

<h3 id="outline">Outline</h3>

<ul>
<li>Have two tasks:
<ul>
<li>Install</li>
<li>Test</li>
</ul></li>
<li>What do these tasks do:
<ul>
<li>Determine the platform
<ul>
<li>Platforms:
<ul>
<li>Debian + apt,</li>
<li>macOS + Homebrew,</li>
<li>Windows + MSYS2.</li>
</ul></li>
</ul></li>
<li>Set up environment for everything (task: Install, Test).
<ul>
<li>Not great... this is specific to project-renard. It downloads the
test data and sets an environment variable.</li>
</ul></li>
<li>Each platform has a <code>_install</code> method (task: Install).
<ul>
<li>Debian + apt: Install <code>xvfb xauth</code>.
<ul>
<li><code>xauth</code> is only needed for the <code>xvfb-run</code> script. <code>xvfb-run</code>
seems to be distribution-specific
(i.e., the script is not provided by the upstream <code>xorg-server</code>
package but is packaged by some Linux distributions such as
<a href="https://salsa.debian.org/xorg-team/xserver/xorg-server/-/blob/debian-bullseye/debian/local/xvfb-run">Debian</a>
and
<a href="https://src.fedoraproject.org/rpms/xorg-x11-server/blob/f38/f/xvfb-run.sh">Fedora</a>).</li>
</ul></li>
<li>macOS + Homebrew:
<ul>
<li>Update Homebrew if needed (in non-CI environments).  This is
necessary because Homebrew can be slow to update and this slows
down the CI.  This might not be needed with newer versions of Homebrew.</li>
<li>Remove old Python: <code>python@2</code> to clean up a pre-installed
package. This is (was?) specific to GitHub CI and was causing a
conflict with Python 3.</li>
<li>[SKIPPED] Installing <code>xquartz</code>. This might have been for an older
version of <code>gtk+3</code>. Note that this requires adding a tap to
install a cask. Good thing it isn't needed now but being able
to use a Homebrew tap is still important.</li>
<li>Install <code>pkg-config</code>. Often needed for finding the libraries.</li>
<li>Install openssl.</li>
</ul></li>
<li>Windows + MSYS2:
<ul>
<li>Prepare MSYS2:
<ul>
<li>Disable <code>CheckSpace</code> option for <code>pacman</code>. Checking the disk
space takes time in the CI. This speed up is also used by
the GitHub action <a href="https://github.com/msys2/setup-msys2">https://github.com/msys2/setup-msys2</a>.</li>
<li>Update mirror list. This was needed at some point to fix
the update because the mirror was down. Need to look more
into this as this was a hot fix at the time.</li>
<li>Run pacman update, then
<ul>
<li>Update also requires killing processes that use
<code>msys-2.0.dll</code>. This is the same as what installers
of tools like Chocolatey and the aforementioned GitHub Action do.</li>
<li>Install <code>pacman-mirrors</code>.</li>
<li>Install <code>git</code>. Needed for below when fetching repos.</li>
<li>There was a (now disabled) work around to update GCC9.</li>
</ul></li>
</ul></li>
<li>Install build tools using pacman.</li>
<li>Install openssl package using pacman.</li>
<li>Copy <code>gcc</code> to <code>cc</code> and <code>mingw32-make</code> to <code>gmake</code>. Not sure if
this is needed anymore. This makes Perl XS builds happy.</li>
<li>Create <code>C:\tmp</code> for <code>Data::UUID</code>. Not fixed yet!</li>
<li>Install Perl. Fixes <code>pl2bat</code> because <code>pl2bat.bat</code> isn't there.
Installs <code>cpanm</code>, <code>cpm</code>, and some basic Perl modules.
Includes my own patches to <code>cpm</code> to help it work in parallel (not ready for upstream).
Not great as this is Perl specific and really should be part of
non-platform code. Who did this?! Oh, right.</li>
</ul></li>
</ul></li>
<li>Each platform has a <code>_pre_run</code> method (task: Install, Test)
<ul>
<li>Debian + apt:
<ul>
<li>Start the <code>Xvfb</code> sever.  Note that the reason why <code>Xvfb</code> is
also needed for the Install task is that running
<code>dzil listdeps</code> or <code>dzil build</code> needs a display because
with <code>project-renard/curie</code>, these commands load the code.
It runs Gtk3's init on loading the module! This is a bad
design, but worth working around just to prove that it can be
worked around. Run <code>DISPLAY= perl -MDevel::Hide=Gtk3 -S dzil listdeps</code>
to see the issues. This is also why errors while building
occur when these modules have not yet been installed in the
CI environment. A very unsensible arrangement.</li>
</ul></li>
<li>macOS + Homebrew: no-op.</li>
<li>Windows + MSYS2: no-op.</li>
</ul></li>
<li>Each platform has an environment (task: Install, Test)
<ul>
<li>Debian + apt: sets <code>DISPLAY</code> to the <code>Xvfb</code> started above.</li>
<li>macOS + Homebrew:
<ul>
<li>This environment depends on the Homebrew prefix.</li>
<li>Adds to <code>PKG_CONFIG_PATH</code>: openssl, libffi</li>
<li>Adds to <code>PATH</code>: openssl, gettext.</li>
<li>Sets <code>ARCHFLAGS</code>: This has something to do with using a
macOS system Perl. Might not be needed with Homebrew. Bad
idea to use the macOS system Perl anyway.</li>
</ul></li>
<li>Windows + MSYS2:
<ul>
<li>Set <code>MSYSTEM</code>: default is MINGW64.</li>
<li>Set <code>PATH</code>: to the default paths for that MSYSTEM.</li>
<li>Set <code>MSYS2_FC_CACHE_SKIP</code>: skip font cache for <code>fontconfig</code> package.</li>
<li>Add hack that modifies Perl linking for EUMM: yikes! This
isn't even in the same project! Boo this code!!!</li>
<li>Set <code>ALIEN_BUILD_PKG_CONFIG</code> to prefer
<code>PkgConfig::CommandLine</code>: This should probably be upstream.</li>
</ul></li>
</ul></li>
<li>For each repo to install via depth-first walk (task: Install):
<ul>
<li>Get the repos using <code>git</code>. Note that <code>git</code> is already installed in most environments (except MSYS2 in the CI so that is why
the <code>_install</code> for MSYS2 step installs <code>git</code>.</li>
<li>Install all the "native" dependencies of the repos first, then install the repos.</li>
<li>Each platform has an <code>install_packages</code> method to install the "native" packages (task: Install)
<ul>
<li>Debian + apt:
<ul>
<li>Check if all needed packages are already installed.</li>
<li>Otherwise <code>apt-get update</code>.</li>
<li>Then <code>apt-get install</code>.</li>
<li>Includes a hack to install <code>meson</code> via <code>pip3</code>. This is
because the version of Meson in the specific Debian
container used is too old. I would like to support this
somehow for flexibility purposes. But not here. Not like this... not like this.
This will actually break with newer systems due to how <code>pip3</code> is now set up using
an <code>externally-managed-environment</code> under PEP 668.</li>
</ul></li>
<li>macOS + Homebrew:
<ul>
<li>Disable auto update. See above in <code>_install</code> for why this was slow on older Homebrew's.</li>
<li>Check if <code>fontconfig</code> is a dependency. If it is, use a
hack to skip the font cache generation post-install step.
Terrible. But the hack is still needed.</li>
<li><code>brew install</code> any packages that are not already
installed. Ignore errors by using <code>|| true</code>. Alas!</li>
</ul></li>
<li>Windows + MSYS2:
<ul>
<li>Uses Chocolatey and Pacman! Wait, I thought this was just
Pacman for MSYS2! The horror! I believe this is for one
specific thing which was to get testing of Anki working
on Windows (because there is no way Anki is going to be
installed via an MSYS2 package as the focus is on
developer tools).</li>
</ul></li>
</ul></li>
<li>Install the repo itself (task: Install)
<ul>
<li>Right now this is only for Perl distributions.
<ul>
<li>via <code>Orbital::Payload::Env::Perl-&gt;apply_roles_to_repo</code>.</li>
<li>More coupling! Cut the knot!</li>
</ul></li>
<li>There is some caching here.</li>
<li><code>&#036;repo-&gt;install</code>.</li>
</ul></li>
</ul></li>
<li>Test the main repo (task: Test).
<ul>
<li><code>&#036;repo-&gt;run_test</code>.</li>
</ul></li>
</ul></li>
</ul>

<h2 id="future">Future</h2>

<p>TODO</p>

<h3 id="outline">Outline</h3>

<ul>
<li>Fetch repos:
<ul>
<li>current repo is used as is</li>
<li>Fetching dependencies have have several strategies
<ul>
<li>if have <code>git</code>
<ul>
<li>Have metadata to repo elsewhere on FS
<ul>
<li>if repo is <code>git</code> and have <code>git</code>, can use <code>git worktree</code></li>
</ul></li>
<li>else <code>git clone</code></li>
</ul></li>
<li>else
<ul>
<li>fetch over HTTP using host specific tarball?</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<h1 id="workflowgraph">Workflow graph</h1>

<ul>
<li>Task
<ul>
<li>Something that can be run.
<ul>
<li><code>exec()</code> calls</li>
<li>code</li>
</ul></li>
<li>Can succeed or fail.
<ul>
<li>A future?</li>
</ul></li>
<li>Has dependencies.</li>
<li>Has inputs / outputs
<ul>
<li>Can be variables (e.g., parameters), directories, files</li>
<li>Outputs: stdout/stderr</li>
</ul></li>
<li>Dependency graph:
<ul>
<li>e.g., Task B depends on A.output0</li>
</ul></li>
<li>Tasks can have a mergeable role.</li>
<li>Tasks can have a retryable role.</li>
<li>Tasks can have subtasks?
<ul>
<li>A graph of subtasks?</li>
</ul></li>
<li>Can have specialised tasks for CIs
<ul>
<li>e.g., on GitHub Actions, this would indicate which
OS the task is running on</li>
</ul></li>
</ul></li>
<li>Resources
<ul>
<li>lockable / mutex
<ul>
<li>Some resources can only be accessed for writing by one task at a time,
e.g., installing CPAN modules to a library directory, running apt-get.</li>
</ul></li>
</ul></li>
<li>Scheduling
<ul>
<li><a href="https://en.wikipedia.org/wiki/Coffman&ndash;Graham_algorithm">https://en.wikipedia.org/wiki/Coffman–Graham_algorithm</a></li>
<li><a href="https://metacpan.org/pod/Bencher::Scenario::GraphTopologicalSortModules">https://metacpan.org/pod/Bencher::Scenario::GraphTopologicalSortModules</a>
<ul>
<li><a href="https://metacpan.org/pod/Data::Graph::Util">https://metacpan.org/pod/Data::Graph::Util</a></li>
<li><a href="https://metacpan.org/pod/Algorithm::Dependency">https://metacpan.org/pod/Algorithm::Dependency</a></li>
</ul></li>
</ul></li>
<li>Workflow graph
<ul>
<li>DAG
<ul>
<li>Maybe in the future use strongly connected components to do
condensation of any directed graph?</li>
</ul></li>
</ul></li>
<li><code>Task::Apt::Install</code>
<ul>
<li>Definition of <code>Task::Apt::Install</code>
<ul>
<li><code>apt-get install [-y] [package-list]</code>
<ul>
<li>where <code>-y</code> option is boolean and optional.</li>
<li>where <code>package-list</code> option is array and required.</li>
</ul></li>
</ul></li>
<li>Given two tasks of type <code>Task::Apt::Install</code>,
<ul>
<li>Mutually exclusive: can not run multiple instances of
<code>Task::Apt::Install</code> at the same time since they all require
access to the <code>dpkg</code> lock.
<ul>
<li>note: the reason they are mutually exclusive should not be
limited to just because they are the same type — we should look
at the resources they are trying to lock</li>
</ul></li>
<li>Mergeable: if the options other than <code>package-list</code> are the same,
then they can be merged by merging the arrays of <code>package-list</code>.</li>
</ul></li>
</ul></li>
<li>Package (or Pkg)
<ul>
<li>An installable unit.</li>
<li>What gets installed varies by package type (different packaging
management systems).
<ul>
<li>e.g., libfoo on one system might be equivalent to separate libfoo and
libfoo-dev packages on another</li>
<li>perhaps be able to identify categories of files installed
<ul>
<li>work with pkg-config to find <code>-I</code> and <code>-L</code></li>
</ul></li>
</ul></li>
<li>Has dependencies.</li>
<li>Dependencies should be resolvable.</li>
<li>define data declaratively
<ul>
<li>it can be updated</li>
<li>it can be modeled</li>
<li>it does not have code</li>
</ul></li>
<li>bug trackers / submission
<ul>
<li>preferred bug tracker and non-preferred alternatives (e.g., RT, <a href="../service/github/">GitHub</a>, <a href="../service/gitlab/">GitLab</a>, mailing lists)</li>
</ul></li>
</ul></li>
<li>Data
<ul>
<li>RDF model?
<ul>
<li>provides graph</li>
<li>easy serialisation</li>
<li>existing ontologies
<ul>
<li>DOAP
<ul>
<li>https://en.wikipedia.org/wiki/DOAP</li>
<li>https://github.com/ewilderj/doap</li>
</ul></li>
<li>SPDX
<ul>
<li>https://spdx.dev/</li>
<li>https://spdx.dev/spdx-examples-repo/</li>
<li>https://github.com/spdx/tools-python</li>
</ul></li>
<li>CycloneDX
<ul>
<li><a href="https://cyclonedx.org/">https://cyclonedx.org/</a></li>
</ul></li>
</ul></li>
<li>link up with security advisories
<ul>
<li>CVE, Debian, etc.</li>
<li><a href="https://www.cve-search.org/about/">About - cve-search - tool-set to perform local searches for known vulnerabilities</a></li>
<li><a href="https://nvd.nist.gov/developers/vulnerabilities">Vulnerability APIs</a></li>
<li>https://stackoverflow.com/questions/37526701/cve-details-api-get-vulnerabilities-by-component</li>
<li>https://cve.mitre.org/cve/data_feeds.html</li>
<li>https://www.opencve.io/welcome</li>
</ul></li>
<li>have modules provide RDF representation?
<ul>
<li>see also the old Moose + Semantic Web work</li>
</ul></li>
<li>can track provenance of data
<ul>
<li>which graph it came from</li>
<li>was it entered via a tool or manually</li>
<li>maybe tie data changes to a commit?</li>
</ul></li>
</ul></li>
<li>Need to model command line tools
<ul>
<li>See PaSh <a href="https://binpa.sh/">https://binpa.sh/</a>
<ul>
<li>https://nikos.vasilak.is/p/pash:osdi:2022.pdf</li>
<li>https://arxiv.org/pdf/2012.15422.pdf</li>
</ul></li>
<li>can this be used to provide completion?
<ul>
<li>sub-commands</li>
<li>type-aware (getopt types, paths, etc.)</li>
<li>see zsh, bash completion</li>
<li>PowerShell ISE</li>
</ul></li>
<li>Modeling should include version numbers and different specs
(input, output, etc.) for different versions of a software.</li>
</ul></li>
</ul></li>
</ul>

<h1 id="organisationofproject">Organisation of project</h1>

<ul>
<li>Payload:
<ul>
<li>Env (for Environment):
<ul>
<li>Language</li>
<li>DB (e.g., PostgreSQL, MySQL)</li>
<li>XWindows</li>
</ul></li>
<li>Sys (for System):
<ul>
<li>Operating system</li>
<li>Package management system</li>
</ul></li>
<li>Serv (for Service):
<ul>
<li>Usually a web service</li>
<li>e.g., GitHub, Sourceforge, Bitbucket, AppVeyor, Travis CI, Coveralls, Codecov</li>
</ul></li>
<li>VCS: version control system
<ul>
<li>git, bzr, svn, cvs, etc.</li>
</ul></li>
</ul></li>
<li>database
<ul>
<li><code>pkg/</code>: packages. These can be from source (for FOSS code) or binary-only (for proprietary code).
<ul>
<li>e.g., <code>pkg/gui/gtk3</code>
<ul>
<li>inside of this create definitions such as <pre> 
use Orbitalfile -api =&gt; v1;
 
def_pkg {
  meta {
    type 'library';
    homepage 'https://www.gtk.org/';
    vcs 'git', {
      uri 'git@gitlab.gnome.org:GNOME/gtk.git', protocol =&gt; 'ssh';
      uri 'https://gitlab.gnome.org/GNOME/gtk.git', protocol =&gt; 'https';
    };
    vcs 'git', {
      type =&gt; 'mirror';
      uri 'https://github.com/GNOME/gtk.git', protocol =&gt; 'https';
    };
    bug_tracker 'https://gitlab.gnome.org/GNOME/gtk/-/issues';
  };
 
  requires env('c');
 
  provides env('c')-&gt;library('gtk3') {
    header_file('gtk/gtk.h', type =&gt; 'main');
    pkg_config 'gtk+-3.0';
  };
 
  def apt('libgtk-3-0') {
    # implied to apply to all versions of apt package
    # version '*';
 
    requires dist('debian') | dist('ubuntu');
    provides os('linux')-&gt;shared_library;
  };
 
  def apt('libgtk-3.0-dev') {
    requires dist('debian') | dist('ubuntu');
    provides env('c')-&gt;headers;
  };
 
  def homebrew('gtk+3') {
    requires os('macos');
    provides os('macos')-&gt;shared_library;
    provides env('c')-&gt;headers;
  }
}
</pre></li>
</ul></li>
<li>e.g., <code>pkg/perl/Gtk3</code> for <a href="https://p3rl.org/Gtk3">https://p3rl.org/Gtk3</a>
<ul>
<li>depends on <code>pkg/gui/gtk3</code> with feature :glib-introspection</li>
</ul></li>
<li>Need a mapper from external packages to database.
<ul>
<li>e.g., <code>CPANPackage(&#036;Name) -&gt; Pkg('main:pkg/perl/&#036;Name')</code></li>
<li>must be overrideable: in case a fork needs to be used or in the example of Perl, an <a href="https://p3rl.org/Alt">https://p3rl.org/Alt</a> module.</li>
</ul></li>
</ul></li>
<li><code>sys/</code>: os  package manager + distribution
<ul>
<li>e.g., sys/os/{windows,linux,macos}</li>
<li>e.g., sys/dist/{debian,ubuntu}, sys/dist/fedora</li>
<li>e.g., sys/dist/{msys2,chocolatey}
<ul>
<li>for GitHub Actions, should use <a href="https://github.com/msys2/setup-msys2">https://github.com/msys2/setup-msys2</a></li>
</ul></li>
<li>e.g., sys/dist/{homebrew,fink,macports}</li>
<li>e.g., <code>sys/arch/{intel,arm}</code></li>
</ul></li>
<li><code>env/</code>: language {perl,python,go}
<ul>
<li>env/perl/dist/Strawberry
<ul>
<li>have specialised data on how to install in different contexts
(e.g., using GitHub Actions <a href="https://github.com/shogo82148/actions-setup-perl">https://github.com/shogo82148/actions-setup-perl</a>)</li>
</ul></li>
<li>env/python/dist/Anaconda</li>
</ul></li>
<li><code>role/</code>: BLAS-interface, LAPACK-interface, XWindows-server, SQL-server, web-browser
<ul>
<li>e.g., BLAS: <a href="https://www.mpi-magdeburg.mpg.de/projects/flexiblas">https://www.mpi-magdeburg.mpg.de/projects/flexiblas</a>, <a href="https://github.com/JuliaLinearAlgebra/libblastrampoline">https://github.com/JuliaLinearAlgebra/libblastrampoline</a>.
<ul>
<li>with variants for index-32, index-64</li>
<li>some need Fortran, C, or C++</li>
</ul></li>
<li>e.g., SSLeay, OpenSSL (fork of SSLeay), LibreSSL (fork of OpenSSL), wolfSSL (has OpenSSL compatibility interface)</li>
<li>e.g., role/server/xwindows: provided by Xorg, Xephyr, Xvfb</li>
<li>e.g., <code>role/interface/gstreamer/{plugin,decoder,source,sink}</code>:
<ul>
<li>provided inside of several packages</li>
<li>can use metadata (such as that available on Debian e.g., <code>Gstreamer-Decoders</code>)</li>
</ul></li>
<li>OpenGL version? Extensions <a href="https://www.khronos.org/opengl/wiki/OpenGL_Extension">https://www.khronos.org/opengl/wiki/OpenGL_Extension</a>.</li>
<li>language compiler support? C99, C11, C++03, C++11, etc.?</li>
</ul></li>
</ul></li>
<li>databases should be layered:
<ul>
<li>p5-Orbital-Transfer-Database distributes core database with OS, Language, Architecture files
<ul>
<li>actually stored in <code>orbital-transfer-database/core</code></li>
</ul></li>
<li><code>orbital-transfer-database/main</code> contains database with packages such as <code>pkg/gui/gtk3</code>.</li>
</ul></li>
</ul>

<h1 id="ciofprojectmodules">CI of project modules</h1>

<ul>
<li>Pull from <code>launch-site</code>.</li>
<li>For every repo in { <code>GITHUB_SHA</code>, <code>cpanfile-git</code> } and <code>launch-site/vendor/</code>,
checkout the version of that repo.</li>
</ul>

<h1 id="roadmap">Roadmap</h1>

<ul>
<li>Query Orbital package database (can be specified using URL).</li>
<li>Query Sys/Env package database.
<ul>
<li>Package database (can be specified using URL):
<ul>
<li>Env::Python
<ul>
<li>PyPI</li>
<li>local PyPI mirror</li>
</ul></li>
<li>Env::Perl
<ul>
<li>CPAN (via MetaCPAN)</li>
<li>local DarkPAN</li>
</ul></li>
<li>.deb: Debian apt, Ubuntu PPA</li>
</ul></li>
</ul></li>
<li>Directory can be specified as local FS or remote URL.</li>
<li>Query dependencies for directory.
<ul>
<li>Need language-specific scanner.</li>
<li>Read from meta files.
<ul>
<li>see <a href="https://github.com/librariesio/bibliothecary">https://github.com/librariesio/bibliothecary</a></li>
</ul></li>
</ul></li>
<li>List platforms supported.</li>
<li>REPL for working with objects</li>
<li>Tasks
<ul>
<li>Install package</li>
<li>Test package</li>
<li>Timing for tasks</li>
</ul></li>
<li>Given a repository and a set of plugins for that repository:
<ul>
<li>Find the matching GitHub repository for each remote
<ul>
<li><em>if</em> plugin {Coveralls,Travis,GitHub CI},
<em>then</em> use that GitHub name to find matching provider of metadata</li>
<li>e.g., for issues on GitHub, by default use the GitHub issues provider
if they are enabled.</li>
<li>There may be other providers for example with a CPAN module, there
could be issues at rt.cpan.org.</li>
</ul></li>
</ul></li>
<li>File pattern matching
<ul>
<li>Include + Exclude</li>
<li>See
<ul>
<li><a href="https://git-scm.com/docs/gitignore"><code>.gitignore</code></a></li>
<li><a href="https://docs.docker.com/engine/reference/builder/#dockerignore-file"><code>.dockerignore</code></a></li>
<li><a href="https://www.serverless.com/framework/docs/providers/aws/guide/packaging">Serverless Framework - Packaging</a></li>
</ul></li>
</ul></li>
<li>Add repositories
<ul>
<li>Debian
<ul>
<li>https://www.virtualbox.org/wiki/Linux_Downloads</li>
<li>https://www.hashicorp.com/blog/announcing-the-hashicorp-linux-repository</li>
<li>https://docs.docker.com/engine/install/</li>
<li>https://github.com/cli/cli#installation</li>
<li>NVIDIA CUDA, container toolkit, etc.</li>
<li>https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_repository_module.html</li>
</ul></li>
</ul></li>
</ul>

</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">











<div class="pagedate">
Last edited <span class="date">Sun Jul  2 15:21:03 2023</span>
<!-- Created <span class="date">Sun Jan 24 05:22:03 2021</span> -->
</div>

</div>


<!-- from Orbital Transfer -->
</div>

</div>

</body>
</html>
